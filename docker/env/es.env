# 内存设置
ES_JAVA_OPTS="-Xms512m -Xmx512m -XX:MaxDirectMemorySize=256m"

# 禁用内存锁定（小内存机器必须禁用）
bootstrap.memory_lock=false

# 单节点模式
discovery.type=single-node

# 禁用安全功能
xpack.security.enabled=false
xpack.security.transport.ssl.enabled=false
xpack.security.http.ssl.enabled=false

# 禁用不需要的模块
xpack.ml.enabled=false
xpack.watcher.enabled=false
xpack.graph.enabled=false
xpack.monitoring.enabled=false
xpack.rollup.enabled=false
xpack.transform.enabled=false
xpack.sql.enabled=false

# 禁用地理位置数据下载
ingest.geoip.downloader.enabled=false

# 优化内存使用
indices.memory.index_buffer_size=5%
indices.queries.cache.size=2%
indices.fielddata.cache.size=2%
indices.breaker.total.use_real_memory=false

# 限制分片数量
cluster.routing.allocation.total_shards_per_node=3

# 禁用非必要功能
node.attr.box_type=warm
node.roles=["master", "data"]

# 降低线程池大小
thread_pool.write.queue_size=200
thread_pool.search.queue_size=200

# 限制请求大小
http.max_content_length=50mb